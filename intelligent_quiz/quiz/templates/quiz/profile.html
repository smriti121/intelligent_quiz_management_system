{% extends 'base.html' %}

{% block content %}
<div class="container" style="display:flex; align-items:center; justify-content:center; min-height:80vh; background:linear-gradient(135deg, #d4e7f9, #f9e6f2);">
    <div style="width:400px; background:white; padding:35px; border-radius:18px; box-shadow:0px 6px 25px rgba(0,0,0,0.08); text-align:center;">
        <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="Profile Icon" style="width:100px; margin-bottom:15px;">
        <h2 style="margin-bottom:20px; color:#333; font-weight:600;">My Profile</h2>

        <form method="POST" enctype="multipart/form-data" style="display:flex; flex-direction:column; gap:12px;">
            {% csrf_token %}
            <input type="text" name="username" value="{{ request.user.username }}" placeholder="Enter Username" required style="padding:12px; border-radius:10px; border:1px solid #ccc; font-size:16px;">
            <input type="email" name="email" value="{{ request.user.email }}" placeholder="Enter Email" style="padding:12px; border-radius:10px; border:1px solid #ccc; font-size:16px;">
            <input type="file" name="avatar" style="padding:12px; border-radius:10px; border:1px solid #ccc; font-size:16px;">
            <textarea name="preferences" placeholder='Enter preferences as JSON' style="padding:12px; border-radius:10px; border:1px solid #ccc; font-size:16px; min-height:80px;">{{ user_profile.preferences|default:"{}" }}</textarea>
            <button type="submit" style="padding:12px; border-radius:10px; border:none; background:#6c63ff; color:white; font-size:16px; font-weight:600; cursor:pointer; transition:0.3s;">Update Profile</button>
        </form>

        <div class="messages">
            {% for message in messages %}
                <p style="color:red; font-size:14px; margin-top:10px;">{{ message }}</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
